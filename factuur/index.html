<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="../opmaak/opmaak.css" />
    <script src="workshopaanmaken.js"></script>
  </head>
  <body>
    <ul class="topnav">
      <li class="dropdown">
        <a href="../gebruiker/index.html">Gebruikers</a>
        <div class="dropdown-content">
          <a href="../gebruiker/aanmaken.html">Aanmaken</a>
          <a href="../gebruiker/deelnemers.html">Deelnemers</a>
        </div>
      </li>
      <li class="dropdown">
        <a href="../workshop/index.html">Workshops</a>
        <div class="dropdown-content">
          <a href="../workshop/aanmaken.html">Aanmaken</a>
          <a href="../workshop/analysiek.html">Analysiek</a>
        </div>
      </li>
    </li>
    <li class="dropdown">
      <a class="active" href="../factuur/index.html">Facturen</a>
      <div class="dropdown-content">
        <a href="../factuur/aanmaken.html">Uploaden</a>
      </div>
    </li>
    <li class="dropdown">
        <a href="../coupon/index.html">Coupon</a>
        <div class="dropdown-content">
          <a href="../coupon/aanmaken.html">Aanmaken</a>
        </div>
      </li>
  
      <li class="right"><a href="#about">Google Drive</a></li>
    </ul>

    <div class="titlepage">
      <h1>Facturen</h1>
    </div>
     
      <div class="search">
         <input type="text" class="searchTerm" placeholder="Zoeken">
         <button type="submit" class="searchButton">
           <i class="fa fa-search"></i>
        </button>
      </div>

      
    <div class="amountworkshops">
      <a>24 workshops</a>
    </div>

    <div id="factuurOpenstaand">
      <div class="containerleft">
        <h2>Openstaand</h2>
        <table>
          <thead>
            <th>Naam</th>
            <th>E-mailadres</th>
            <th>Datum</th>
            <th>Download</th>
          </thead>
        
          <tbody id="Facturen"></tbody>
        </table>
      </div>
    </div>

    <div id="factuurGesloten">
      <div class="containerright">
        <h2>Gesloten</h2>
        <table>
          <tr>
            <td>E-mailadres</td>
            <td>Betaald</td>
            <td>Download</td>
          </tr>
        </table>
      </div>
    </div>
  
    <script src="****"></script>
    <script > getOpenFacturen();</script>
    <script>
      function getOpenFacturen() {
        sendGetRequest(apiUrl + '/api/skoolworkshop')
          .then((data) => {
            console.log(data.result)
            let tableBody = document.getElementById('Facturen')

            let rows = ''
            data.result.forEach((item) => {
              console.log(item)
              rows +=
                `<tr><td>${item.GebruikerEmail}</td>` +
                `<td>${item.IsBetaald}</td></tr>`
            })

            tableBody.innerHTML = rows
          })
          .catch((error) => {
            console.error(
              'There has been a problem with your fetch operation:',
              error
            )
          })
      }
    </script>
  </body>
</html>
